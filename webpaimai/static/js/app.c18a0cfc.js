(function(){"use strict";var t={5135:function(t,e,o){var n=o(3751),r=o(641);const a={id:"app"};function s(t,e,o,n,s,i){const u=(0,r.g2)("router-link"),l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("header",null,[e[3]||(e[3]=(0,r.Lk)("h1",null,"拍卖系统",-1)),(0,r.Lk)("nav",null,[(0,r.bF)(u,{to:"/login"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("登录")]))),_:1}),(0,r.bF)(u,{to:"/register"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("注册")]))),_:1}),(0,r.bF)(u,{to:"/goods-list"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("商品列表")]))),_:1})])]),(0,r.Lk)("main",null,[(0,r.bF)(l)]),e[4]||(e[4]=(0,r.Lk)("footer",null,[(0,r.Lk)("p",null,"© 2025 拍卖系统")],-1))])}var i={name:"App"},u=o(6262);const l=(0,u.A)(i,[["render",s]]);var c=l,d=o(5220);const p={class:"user-login"};function h(t,e,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",p,[e[6]||(e[6]=(0,r.Lk)("h1",null,"用户登录",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,n.D$)(((...t)=>i.handleLogin&&i.handleLogin(...t)),["prevent"]))},[e[3]||(e[3]=(0,r.Lk)("label",{for:"username"},"用户名:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),type:"text",id:"username",placeholder:"输入用户名"},null,512),[[n.Jo,s.username]]),e[4]||(e[4]=(0,r.Lk)("label",{for:"password"},"密码:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",id:"password",placeholder:"输入密码"},null,512),[[n.Jo,s.password]]),e[5]||(e[5]=(0,r.Lk)("button",{type:"submit"},"登录",-1))],32)])}o(4114);var f={name:"UserLogin",data(){return{username:"",password:""}},methods:{async handleLogin(){try{const t=await fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),e=await t.json();t.ok?(alert("登录成功！"),this.$router.push("/goods-list")):alert(e.error||"登录失败")}catch(t){console.error("登录出错:",t)}}}};const m=(0,u.A)(f,[["render",h],["__scopeId","data-v-fe69bd32"]]);var v=m;const b={class:"user-register"};function k(t,e,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",b,[e[6]||(e[6]=(0,r.Lk)("h1",null,"用户注册",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,n.D$)(((...t)=>i.handleRegister&&i.handleRegister(...t)),["prevent"]))},[e[3]||(e[3]=(0,r.Lk)("label",{for:"username"},"用户名:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),type:"text",id:"username",placeholder:"输入用户名"},null,512),[[n.Jo,s.username]]),e[4]||(e[4]=(0,r.Lk)("label",{for:"password"},"密码:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",id:"password",placeholder:"输入密码"},null,512),[[n.Jo,s.password]]),e[5]||(e[5]=(0,r.Lk)("button",{type:"submit"},"注册",-1))],32)])}var g={name:"UserRegister",data(){return{username:"",password:""}},methods:{async handleRegister(){try{const t=await fetch("http://localhost:5000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),e=await t.json();t.ok?(alert("注册成功！"),this.$router.push("/login")):alert(e.error||"注册失败")}catch(t){console.error("注册出错:",t)}}}};const y=(0,u.A)(g,[["render",k],["__scopeId","data-v-ea5bd51e"]]);var w=y,L=o(33);const _={class:"goods-list"},C=["onClick"];function O(t,e,o,n,a,s){return(0,r.uX)(),(0,r.CE)("div",_,[e[0]||(e[0]=(0,r.Lk)("h1",null,"商品列表",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.goods,(t=>((0,r.uX)(),(0,r.CE)("li",{key:t.id},[(0,r.Lk)("h2",null,(0,L.v_)(t.name),1),(0,r.Lk)("p",null,"价格: "+(0,L.v_)(t.price),1),(0,r.Lk)("button",{onClick:e=>s.viewAuction(t.id)},"查看拍卖",8,C)])))),128))])])}var A={name:"GoodsList",data(){return{goods:[]}},async created(){try{const t=await fetch("http://localhost:5000/goods"),e=await t.json();this.goods=e}catch(t){console.error("获取商品列表失败:",t)}},methods:{viewAuction(t){this.$router.push(`/auction-detail/${t}`)}}};const j=(0,u.A)(A,[["render",O],["__scopeId","data-v-d33d78d6"]]);var E=j;const X={class:"auction-detail"};function $(t,e,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",X,[e[2]||(e[2]=(0,r.Lk)("h1",null,"拍卖详情",-1)),(0,r.Lk)("p",null,"商品名称: "+(0,L.v_)(s.auction.goods_name),1),(0,r.Lk)("p",null,"起拍价: "+(0,L.v_)(s.auction.starting_price),1),(0,r.Lk)("p",null,"竞拍时间: "+(0,L.v_)(s.auction.time_long)+" 分钟",1),e[3]||(e[3]=(0,r.Lk)("label",{for:"bid"},"出价:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.bidAmount=t),type:"number",id:"bid"},null,512),[[n.Jo,s.bidAmount]]),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>i.placeBid&&i.placeBid(...t))},"提交出价")])}var S={name:"AuctionDetail",data(){return{auction:{},bidAmount:0}},async created(){const t=this.$route.params.id;try{const e=await fetch(`http://localhost:5000/auction/${t}`);this.auction=await e.json()}catch(e){console.error("获取拍卖详情失败:",e)}},methods:{async placeBid(){const t=this.$route.params.id;try{const e=await fetch("http://localhost:5000/bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auction_id:t,buyer_id:1,bid_amount:this.bidAmount})}),o=await e.json();e.ok?alert("出价成功！"):alert(o.error||"出价失败")}catch(e){console.error("出价失败:",e)}}}};const T=(0,u.A)(S,[["render",$],["__scopeId","data-v-5f859dee"]]);var J=T;const x={class:"auction-result"},U={key:0},F={key:1},I={key:2};function P(t,e,o,n,a,s){return(0,r.uX)(),(0,r.CE)("div",x,[e[0]||(e[0]=(0,r.Lk)("h1",null,"拍卖结果",-1)),a.result.message?((0,r.uX)(),(0,r.CE)("p",U,(0,L.v_)(a.result.message),1)):(0,r.Q3)("",!0),a.result.winner?((0,r.uX)(),(0,r.CE)("p",F,"中标者: "+(0,L.v_)(a.result.winner),1)):(0,r.Q3)("",!0),a.result.winning_bid?((0,r.uX)(),(0,r.CE)("p",I,"中标价: "+(0,L.v_)(a.result.winning_bid),1)):(0,r.Q3)("",!0)])}var R={name:"AuctionResult",data(){return{result:{}}},async created(){const t=this.$route.params.id;try{const e=await fetch(`http://localhost:5000/auction/${t}/close`,{method:"POST"});this.result=await e.json()}catch(e){console.error("获取拍卖结果失败:",e)}}};const V=(0,u.A)(R,[["render",P],["__scopeId","data-v-22884fe2"]]);var B=V;const D=[{path:"/",redirect:"/login"},{path:"/login",component:v},{path:"/register",component:w},{path:"/goods-list",component:E},{path:"/auction-detail/:id",component:J,props:!0},{path:"/auction-result/:id",component:B,props:!0}],N=(0,d.aE)({history:(0,d.LA)(),routes:D});var Q=N;const W=(0,n.Ef)(c);W.use(Q),W.mount("#app")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,a){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],a=t[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(i=!1,a<s&&(s=a));if(i){t.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,r,a]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,s=n[0],i=n[1],u=n[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(u)var c=u(o)}for(e&&e(n);l<s.length;l++)a=s[l],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkauction_system"]=self["webpackChunkauction_system"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(5135)}));n=o.O(n)})();
//# sourceMappingURL=app.c18a0cfc.js.map